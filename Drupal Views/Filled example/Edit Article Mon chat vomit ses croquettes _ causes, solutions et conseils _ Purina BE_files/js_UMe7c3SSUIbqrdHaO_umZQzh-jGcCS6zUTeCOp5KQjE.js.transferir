/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,once){'use strict';Drupal.behaviors.paragraphsActions={attach:function(context,settings){var $actionsElement=$(once('paragraphs-dropdown','.paragraphs-dropdown',context));$actionsElement.each(function(){var $this=$(this);var $toggle=$this.find('.paragraphs-dropdown-toggle');$toggle.on('click',function(e){e.preventDefault();$this.toggleClass('open');});$this.on('focusout',function(e){setTimeout(function(){if($this.has(document.activeElement).length==0)$this.removeClass('open');},1);});});}};})(jQuery,Drupal,once);;
(function($,Drupal){function DropButton(dropbutton,settings){const options=$.extend({title:Drupal.t('List additional actions')},settings);const $dropbutton=$(dropbutton);this.$dropbutton=$dropbutton;this.$list=$dropbutton.find('.dropbutton');this.$actions=this.$list.find('li').addClass('dropbutton-action');if(this.$actions.length>1){const $primary=this.$actions.slice(0,1);const $secondary=this.$actions.slice(1);$secondary.addClass('secondary-action');$primary.after(Drupal.theme('dropbuttonToggle',options));this.$dropbutton.addClass('dropbutton-multiple').on({'mouseleave.dropbutton':this.hoverOut.bind(this),'mouseenter.dropbutton':this.hoverIn.bind(this),'focusout.dropbutton':this.focusOut.bind(this),'focusin.dropbutton':this.focusIn.bind(this)});}else this.$dropbutton.addClass('dropbutton-single');}function dropbuttonClickHandler(e){e.preventDefault();$(e.target).closest('.dropbutton-wrapper').toggleClass('open');}Drupal.behaviors.dropButton={attach(context,settings){const dropbuttons=once('dropbutton','.dropbutton-wrapper',context);if(dropbuttons.length){const body=once('dropbutton-click','body');if(body.length)$(body).on('click','.dropbutton-toggle',dropbuttonClickHandler);dropbuttons.forEach((dropbutton)=>{DropButton.dropbuttons.push(new DropButton(dropbutton,settings.dropbutton));});}}};$.extend(DropButton,{dropbuttons:[]});$.extend(DropButton.prototype,{toggle(show){const isBool=typeof show==='boolean';show=isBool?show:!this.$dropbutton.hasClass('open');this.$dropbutton.toggleClass('open',show);},hoverIn(){if(this.timerID)window.clearTimeout(this.timerID);},hoverOut(){this.timerID=window.setTimeout(this.close.bind(this),500);},open(){this.toggle(true);},close(){this.toggle(false);},focusOut(e){this.hoverOut.call(this,e);},focusIn(e){this.hoverIn.call(this,e);}});$.extend(Drupal.theme,{dropbuttonToggle(options){return `<li class="dropbutton-toggle"><button type="button"><span class="dropbutton-arrow"><span class="visually-hidden">${options.title}</span></span></button></li>`;}});Drupal.DropButton=DropButton;})(jQuery,Drupal);;
(function($,Drupal,once){'use strict';var setUpTab=function($parWidget,$parTabs,$parContent,$parBehavior,$mainRegion){var $tabContent=$parTabs.find('.paragraphs_content_tab');var $tabBehavior=$parTabs.find('.paragraphs_behavior_tab');if($tabBehavior.hasClass('is-active')){$parWidget.removeClass('content-active').addClass('behavior-active');$tabContent.removeClass('is-active');$tabContent.find('a').removeClass('is-active');$tabBehavior.addClass('is-active');$tabBehavior.find('a').addClass('is-active');}else{if(!($mainRegion.hasClass('content-active'))&&!($mainRegion.hasClass('behavior-active'))){$tabContent.addClass('is-active');$tabContent.find('a').addClass('is-active');$parWidget.addClass('content-active');}$parTabs.removeClass('paragraphs-tabs-hide');if($parBehavior.length===0)$parTabs.addClass('paragraphs-tabs-hide');}};var switchActiveClass=function($parTabs,$clickedTab,$parWidget){var $clickedTabParent=$clickedTab.parent();$parTabs.find('li').removeClass('is-active');$parTabs.find('li').find('a').removeClass('is-active');$clickedTabParent.addClass('is-active');$clickedTabParent.find('a').addClass('is-active');$parWidget.removeClass('behavior-active content-active');if($clickedTabParent.hasClass('paragraphs_content_tab')){$parWidget.addClass('content-active');$parWidget.find('.paragraphs-add-wrapper').parent().removeClass('hidden');}else{$parWidget.addClass('behavior-active');$parWidget.find('.paragraphs-add-wrapper').parent().addClass('hidden');}};var markFirstVisibleParagraph=function(totalTopOffset){var $window=$(window);var bottomOfScreen=$window.scrollTop()+$window.height();var topOfScreen=$window.scrollTop()+totalTopOffset;var $firstParagraph=false;var $allParagraphs=$('.node-form .draggable');$allParagraphs.each(function(){var $this=$(this);var topOfElement=$this.offset().top;var bottomOfElement=$this.offset().top+$this.height();if((bottomOfScreen>topOfElement)&&(topOfScreen<bottomOfElement)){if($firstParagraph)if(topOfElement>topOfScreen){$firstParagraph=$this;return false;}else{if(topOfElement>bottomOfScreen)return false;}$firstParagraph=$this;if(topOfScreen<topOfElement)return false;}});if($firstParagraph){$('.first-paragraph').removeClass('first-paragraph');$firstParagraph.addClass('first-paragraph paragraph-hover');}return $firstParagraph;};Drupal.behaviors.bodyTabs={attach:function(context){var $topLevelParWidgets=$('.paragraphs-tabs-wrapper',context).filter(function(){return $(this).parents('.paragraphs-nested').length===0;});$(once('paragraphs-bodytabs',$topLevelParWidgets)).each(function(){var $parWidget=$(this);var $parTabs=$parWidget.find('.paragraphs-tabs');$parTabs.find('a').click(function(e){var toolbarHeight=$('.toolbar-tray-horizontal').outerHeight()||0;var adminToolbarsOffset=$('#toolbar-bar').outerHeight()+toolbarHeight;var totalTopOffset=adminToolbarsOffset+$('.paragraphs-tabs').outerHeight();var $firstParagraph;var currentParagraphOffset=0;var $window=$(window);$firstParagraph=markFirstVisibleParagraph(totalTopOffset);if($firstParagraph){currentParagraphOffset=$firstParagraph.offset().top-($window.scrollTop()+totalTopOffset);if(currentParagraphOffset<0)currentParagraphOffset=0;}e.preventDefault();switchActiveClass($parTabs,$(this),$parWidget);if($firstParagraph){$('html, body').scrollTop($firstParagraph.offset().top-totalTopOffset-currentParagraphOffset);setTimeout(function(){$('.first-paragraph').removeClass('paragraph-hover');},1000);}});});if($('.paragraphs-tabs-wrapper',context).length>0)$topLevelParWidgets.each(function(){var $parWidget=$(this);var $parTabs=$parWidget.find('.paragraphs-tabs');var $parContent=$parWidget.find('.paragraphs-content');var $parBehavior=$parWidget.find('.paragraphs-behavior');var $mainRegion=$parWidget.find('.layout-region-node-main');setUpTab($parWidget,$parTabs,$parContent,$parBehavior,$mainRegion);});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.paragraphsModalAdd={attach:function(context){$(once('add-click-handler','.paragraph-type-add-modal-button',context)).on('click',function(event){var $button=$(this);Drupal.paragraphsAddModal.openDialog($button.parent().siblings('.paragraphs-add-dialog'),$button.val());event.preventDefault();event.stopPropagation();});}};Drupal.paragraphsAddModal={};Drupal.paragraphsAddModal.openDialog=function(element,title){var $element=$(element);var $modalDelta=$element.parent().find('.paragraph-type-add-delta');$element=$element.clone(true);var dialog=Drupal.dialog($element,{autoResize:true,resizable:false,title,width:'auto',paragraphsModalDelta:$modalDelta});dialog.showModal();$(once('paragraphs-add-more-submit-modal',$element.find('.field-add-more-submit'))).on('mousedown',function(){dialog.close();});return dialog;};$(window).on({'dialog:afterclose':function(event,dialog,$element){if($element.dialog('instance')&&$element.dialog('option','paragraphsModalDelta'))$element.dialog('option','paragraphsModalDelta').val('');}});})(jQuery,Drupal,once);;
(($,Drupal,once)=>{'use strict';Drupal.paragraphs_features=Drupal.paragraphs_features||{};Drupal.paragraphs_features.add_in_between={};Drupal.theme.paragraphsFeaturesAddInBetweenRow=(buttons)=>{const wrapper=document.createElement('div');const td=document.createElement('td');const row=document.createElement('tr');const list=document.createElement('ul');buttons.forEach((button)=>{const listItem=document.createElement('li');listItem.append(button);list.appendChild(listItem);});list.classList.add('paragraphs-features__add-in-between__button-list');wrapper.classList.add('paragraphs-features__add-in-between__wrapper');wrapper.append(list);td.setAttribute('colspan','100%');td.appendChild(wrapper);row.classList.add('paragraphs-features__add-in-between__row');row.appendChild(td);return row;};Drupal.theme.paragraphsFeaturesAddInBetweenButton=(config)=>{const button=document.createElement('button');button.innerText=Drupal.t('+ @title',{'@title':config.title},{context:'Paragraphs Features'});button.classList.add('paragraphs-features__add-in-between__button','button--small','js-show','button','js-form-submit','form-submit');return button;};Drupal.theme.paragraphsFeaturesAddInBetweenMoreButton=(config)=>{const button=document.createElement('button');button.innerText=Drupal.t('@title',{'@title':config.title},{context:'Paragraphs Features'});button.classList.add('paragraphs-features__add-in-between__button','button--small','js-show','button','js-form-submit','form-submit');return button;};Drupal.paragraphs_features.addEventListenerToButton=(button,addButton)=>{button.addEventListener('click',(event)=>{event.preventDefault();event.stopPropagation();const dialog=Drupal.paragraphs_features.add_in_between.getAddModalBlock(event.target.closest('table')).querySelector('.paragraphs-add-dialog');const row=event.target.closest('tr');const delta=Array.prototype.indexOf.call(row.parentNode.children,row)/2;Drupal.paragraphs_features.add_in_between.setDelta(dialog,delta);addButton?addButton.dispatchEvent(new MouseEvent('mousedown')):Drupal.paragraphsAddModal.openDialog(dialog,Drupal.t('Add In Between'),{},{context:'Paragraphs Features'});});};Drupal.behaviors.paragraphsFeaturesAddInBetweenInit={attach:(context,settings)=>{Object.values(settings.paragraphs_features.add_in_between||{}).forEach((field)=>{document.querySelectorAll('#'+field.wrapperId).forEach((wrapper)=>{Drupal.paragraphs_features.add_in_between.initParagraphsWidget(wrapper,field);});});}};Drupal.paragraphs_features.add_in_between.getAddModalBlock=(table)=>{const fromParent=(elem)=>{let sibling=elem.parentNode.firstChild;while(sibling){if(sibling.nodeType===1&&sibling!==elem){const addModalBlock=sibling.querySelector('.paragraphs-add-wrapper');if(addModalBlock)return addModalBlock;}sibling=sibling.nextSibling;}};return fromParent(table)||fromParent(table.parentNode)||fromParent(table.parentNode.parentNode);};Drupal.paragraphs_features.add_in_between.initParagraphsWidget=function(context,field){const [table]=once('paragraphs-features-add-in-between-init',context.querySelector('.field-multiple-table'));if(!table)return;const addModalBlock=Drupal.paragraphs_features.add_in_between.getAddModalBlock(table);if(!addModalBlock)return;addModalBlock.style.display='none';const addModalButton=addModalBlock.querySelector('.paragraph-type-add-modal-button');const dialog=addModalBlock.querySelector('.paragraphs-add-dialog');const rowButtonElement=()=>{const buttons=[];const addButtons=Array.from(dialog.querySelectorAll('input'));addButtons.slice(0,field.linkCount).forEach((addButton)=>{addButton.parentElement.style.display='none';const button=Drupal.theme('paragraphsFeaturesAddInBetweenButton',{title:addButton.value});Drupal.paragraphs_features.addEventListenerToButton(button,addButton);buttons.push(button);});if(addButtons.length>field.linkCount){const title=field.linkCount?Drupal.t('...',{},{context:'Paragraphs Features'}):Drupal.t('+ Add',{},{context:'Paragraphs Features'});const button=Drupal.theme('paragraphsFeaturesAddInBetweenMoreButton',{title});Drupal.paragraphs_features.addEventListenerToButton(button);buttons.push(button);}return Drupal.theme('paragraphsFeaturesAddInBetweenRow',buttons);};let tableBody=table.querySelector(':scope > tbody');if(!tableBody){tableBody=document.createElement('tbody');table.append(tableBody);}tableBody.querySelectorAll(':scope > tr').forEach((rowElement)=>{rowElement.insertAdjacentElement('beforebegin',rowButtonElement());});tableBody.appendChild(rowButtonElement());if(addModalButton.getAttribute('disabled'))tableBody.querySelectorAll('.paragraphs-features__add-in-between__button').forEach((button)=>{button.setAttribute('disabled','disabled');button.classList.add('is-disabled');});};Drupal.paragraphs_features.add_in_between.setDelta=(dialog,delta)=>{let deltaInput=dialog.closest('.paragraphs-add-wrapper').querySelector('.paragraph-type-add-delta.modal');deltaInput.value=delta;};Drupal.behaviors.paragraphsFeaturesAddInBetweenTableDragDrop={attach:(context,settings)=>{Object.keys(settings.tableDrag||{}).forEach((tableId)=>{Drupal.paragraphs_features.add_in_between.adjustDragDrop(tableId);once('in-between-buttons-columnschange','#'+tableId,context).forEach((table)=>{$(table).on('columnschange',(event)=>{Drupal.paragraphs_features.add_in_between.adjustDragDrop(event.target.id);});});});}};Drupal.paragraphs_features.add_in_between.adjustDragDrop=(tableId)=>{if(!Drupal.tableDrag[tableId]||Drupal.tableDrag[tableId].paragraphsDragDrop)return;Drupal.tableDrag[tableId].paragraphsDragDrop=true;const sequenceBoolFunctions=(originalFn,newFn)=>{return function(){let result=originalFn.apply(this,arguments);if(result)result=newFn.apply(this,arguments);return result;};};const paragraphsIsValidSwap=(row)=>{return !row.classList.contains('paragraphs-features__add-in-between__row');};const rowObject=Drupal.tableDrag[tableId].row;rowObject.prototype.isValidSwap=sequenceBoolFunctions(rowObject.prototype.isValidSwap,paragraphsIsValidSwap);rowObject.prototype.onSwap=(row)=>{const table=row.closest('table');const allDrags=table.querySelectorAll(':scope > tbody > tr.draggable');const allAdds=table.querySelectorAll(':scope > tbody > tr.paragraphs-features__add-in-between__row');allDrags.forEach((dragElem,index)=>{if(allAdds.item(index))dragElem.insertAdjacentElement('beforebegin',allAdds.item(index));});};};})(jQuery,Drupal,once);;
(function($,Drupal,drupalSettings,once){'use strict';Drupal.paragraphs_ee=Drupal.paragraphs_ee||{};Drupal.paragraphs_features.add_in_between.initParagraphsWidget=function(context,field){const [table]=once('paragraphs-features-add-in-between-init',context.querySelector('.field-multiple-table'));if(!table)return;const addModalBlock=Drupal.paragraphs_features.add_in_between.getAddModalBlock(table);if(!addModalBlock)return;addModalBlock.style.display='none';const addModalButton=addModalBlock.querySelector('.paragraph-type-add-modal-button');const dialog=addModalBlock.querySelector('.paragraphs-add-dialog');if(!dialog)return;const buttonsAll=dialog.querySelectorAll('.paragraphs-button--add-more:not([data-paragraphs-ee-button-clone])');const buttonsAllCount=Array.from(buttonsAll).length;const addButtons=Array.from(dialog.querySelectorAll('input[data-easy-access-weight], button[data-easy-access-weight]'));Array.from(buttonsAll).forEach((button)=>{$(button).mousedown(function(event){if(event.target.nodeType===1&&event.target.nodeName==='A')event.stopImmediatePropagation();});$('a',button).click(function(event){event.stopPropagation();});});const rowButtonElement=()=>{const buttons=[];addButtons.slice(0,field.linkCount).forEach((addButton)=>{const title=addButton.value;const doc=new DOMParser().parseFromString(title,'text/html');const buttonTitle=doc.documentElement.textContent;const button=Drupal.theme('paragraphsFeaturesAddInBetweenButton',{title:buttonTitle});button.innerHTML=Drupal.t('+ @title',{'@title':buttonTitle},{context:'Paragraphs Editor Enhancements'});;button.setAttribute('title',Drupal.t('Add !title',{'!title':buttonTitle},{context:'Paragraphs Editor Enhancements'}));button.setAttribute('aria-label',Drupal.t('Add !title',{'!title':buttonTitle},{context:'Paragraphs Editor Enhancements'}));button.setAttribute('data-paragraph-bundle',addButton.dataset.paragraphBundle);button.setAttribute('data-easy-access-weight',100);if('easyAccessWeight' in addButton.dataset)button.setAttribute('data-easy-access-weight',addButton.dataset.easyAccessWeight);button.setAttribute('formnovalidate','formnovalidate');Drupal.paragraphs_features.addEventListenerToButton(button,addButton);buttons.push(button);});buttons.sort(function(a,b){return (parseInt(a.dataset.easyAccessWeight)+1000)-(parseInt(b.dataset.easyAccessWeight)+1000);});if(buttonsAllCount>field.linkCount){const title=field.linkCount?Drupal.t('+',{},{context:'Paragraphs Features'}):Drupal.t('+ Add',{},{context:'Paragraphs Features'});const button=Drupal.theme('paragraphsFeaturesAddInBetweenMoreButton',{title,settings:dialog.dataset});Drupal.paragraphs_ee.addEventListenerToMoreButton(button);buttons.push(button);}if(buttons.length>0){buttons[0].classList.add('first');buttons[buttons.length-1].classList.add('last');}return Drupal.theme('paragraphsFeaturesAddInBetweenRow',buttons);};let tableBody=table.querySelector(':scope > tbody');if(!tableBody){tableBody=document.createElement('tbody');table.append(tableBody);}tableBody.querySelectorAll(':scope > tr').forEach((rowElement)=>{rowElement.insertAdjacentElement('beforebegin',rowButtonElement());const rowSelector='.paragraphs-features__add-in-between__row';var $self=$(rowElement);$self.on('mouseover',function(){$self.prev(rowSelector).find('.paragraphs-features__add-in-between__wrapper').addClass('is-active');$self.next(rowSelector).find('.paragraphs-features__add-in-between__wrapper').addClass('is-active');});$self.on('mouseout',function(){$self.prev(rowSelector).find('.paragraphs-features__add-in-between__wrapper').removeClass('is-active');$self.next(rowSelector).find('.paragraphs-features__add-in-between__wrapper').removeClass('is-active');});});tableBody.appendChild(rowButtonElement());if(addModalButton.getAttribute('disabled'))tableBody.querySelectorAll('.paragraphs-features__add-in-between__button').forEach((button)=>{button.setAttribute('disabled','disabled');button.classList.add('is-disabled');});if(('dialogOffCanvas' in dialog.dataset)&&(dialog.dataset.dialogOffCanvas==='true')){let wrappers=tableBody.querySelectorAll('.paragraphs-features__add-in-between__wrapper');wrappers.forEach((wrapper)=>{Drupal.ajax.bindAjaxLinksWithProgress(wrapper);});}};Drupal.paragraphs_features.add_in_between.getAddModalBlock=(table)=>{const fromParent=(elem)=>{let sibling=elem.parentNode.firstChild;while(sibling){if(sibling.nodeType===1&&sibling!==elem){const addModalBlock=sibling.querySelector('.paragraphs-add-wrapper');if(addModalBlock)return addModalBlock;}sibling=sibling.nextSibling;}};return fromParent(table)||fromParent(table.parentNode)||fromParent(table.parentNode.parentNode);};Drupal.paragraphs_features.addEventListenerToButton=(button,addButton)=>{button.addEventListener('click',(event)=>{event.preventDefault();event.stopPropagation();const dialog=Drupal.paragraphs_features.add_in_between.getAddModalBlock(event.target.closest('table')).querySelector('.paragraphs-add-dialog');const row=event.target.closest('tr');const delta=Array.prototype.indexOf.call(row.parentNode.children,row)/2;Drupal.paragraphs_features.add_in_between.setDelta(dialog,delta);addButton?addButton.dispatchEvent(new MouseEvent('mousedown')):Drupal.paragraphsAddModal.openDialog(dialog,Drupal.t('Add @widget_title',{'@widget_title':dialog.dataset.widgetTitle},{context:'Paragraphs Editor Enhancements'}));});};Drupal.paragraphs_ee.addEventListenerToMoreButton=(button)=>{button.addEventListener('click',(event)=>{event.preventDefault();event.stopPropagation();const dialog=Drupal.paragraphs_features.add_in_between.getAddModalBlock(event.target.closest('table')).querySelector('.paragraphs-add-dialog');const row=event.target.closest('tr');const delta=Array.prototype.indexOf.call(row.parentNode.children,row)/2;Drupal.paragraphs_features.add_in_between.setDelta(dialog,delta);if(dialog.hasAttribute('data-dialog-off-canvas')&&dialog.dataset.dialogOffCanvas==='true'){document.querySelector('.paragraphs-add-dialog--categorized').classList.remove('active-dialog');const active_subform=event.target.closest('.js-form-item');if(active_subform)active_subform.querySelector('.paragraphs-add-dialog--categorized').classList.add('active-dialog');}else Drupal.paragraphsAddModal.openDialog(dialog.parentElement,Drupal.t('Add @widget_title',{'@widget_title':dialog.dataset.widgetTitle},{context:'Paragraphs Editor Enhancements'}));});};Drupal.theme.paragraphsFeaturesAddInBetweenMoreButton=(config)=>{const use_off_canvas=(('dialogOffCanvas' in config.settings)&&(config.settings.dialogOffCanvas==='true'));let button=document.createElement('button');if(use_off_canvas){button=document.createElement('a');button.classList.add('paragraphs_ee__add-in-between__dialog-button--off-canvas','use-ajax');button.setAttribute('href',config.settings.dialogBrowserUrl);button.setAttribute('data-progress-type','fullscreen');button.setAttribute('data-dialog-type','dialog');button.setAttribute('data-dialog-renderer','off_canvas');button.setAttribute('data-dialog-options','{"width":"25vw"}');}button.innerText=Drupal.t('@title',{'@title':config.title},{context:'Paragraphs Features'});button.setAttribute('formnovalidate','formnovalidate');button.setAttribute('title',Drupal.t('Show all @title_plural',{'@title_plural':config.settings.widgetTitlePlural},{context:'Paragraphs Editor Enhancements'}));button.classList.add('paragraphs-features__add-in-between__button','paragraphs_ee__add-in-between__dialog-button','button--small','js-show','button','js-form-submit','form-submit');return button;};Drupal.ajax.bindAjaxLinksWithProgress=function(element){if(!(element instanceof Element))return;once('paragraphs-ee-ajax','.use-ajax',element).forEach((ajaxLink)=>{var $linkElement=$(ajaxLink);var elementSettings={progress:{type:$linkElement.data('progress-type')||'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};var href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}Drupal.ajax(elementSettings);});};Drupal.paragraphsAddModal.openDialog=function(element,title,options){var $element=$(element);var $modalDelta=$element.parent().find('.paragraph-type-add-modal-delta, .paragraph-type-add-delta.modal');var dialogStyle=drupalSettings.paragraphs_ee.dialog_style||'tiles';var dialogWidth='auto';var windowWidth=$(window).width();var dialogMaxWidth=1170;if(windowWidth>(dialogMaxWidth+50))dialogWidth=dialogMaxWidth+'px';var default_options={autoResize:true,resizable:false,classes:{'ui-dialog':'paragraphs-ee-add-dialog paragraphs-ee-add-dialog--categorized'+(dialogStyle==='tiles'?'':' paragraphs-style-'+dialogStyle)},title,width:dialogWidth,maxWidth:dialogMaxWidth,paragraphsModalDelta:$modalDelta};$element=$element.clone(true);options=$.extend({},default_options,options);var dialog=Drupal.dialog($element,options);dialog.showModal();$(once('paragraphs-ee-dialog-submit','.field-add-more-submit',$element.get(0))).on('mousedown',function(event){if(event.which!==3)dialog.close();});return dialog;};Drupal.behaviors.paragraphsModalAdd.attach=function(context){$(once('paragraphs-ee-add-click-handler','.paragraph-type-add-modal-button, .paragraph-type-add-delta.modal',context)).on('click',function(event){var $button=$(this);Drupal.paragraphsAddModal.openDialog($button.parent().siblings('.paragraphs-ee-dialog-wrapper'),$button.val());event.preventDefault();event.stopPropagation();});$(window).on({'dialog:aftercreate':function dialogAfterCreate(event,dialog,$element,settings){if(Drupal.offCanvas&&Drupal.offCanvas.isOffCanvas($element))return;if(!once('paragraphs-add-dialog-afterCreate',$element).length)return;var $title_bar=$('.ui-dialog-titlebar',$element.parent());Drupal.paragraphs_ee.initDialogActionButtons($element.parent(),$title_bar);}});};Drupal.paragraphs_ee.initDialogActionButtons=function($dialog,$element){$('.paragraphs-ee-actions-wrapper',$dialog).each(function(delta,elem){$(this).detach().appendTo($element).removeClass('is-hidden');var $toggle=$('.display-toggle',elem);var $dialog_content=$dialog.find('.ui-dialog-content');if($dialog_content.hasClass('paragraphs-style-list'))$toggle.filter('.style-list').attr('aria-pressed','true');else $toggle.filter('.style-tiles').attr('aria-pressed','true');$(once('paragraphs-ee-dialog-toogle','.display-toggle',elem)).on('click',function(){var $self=$(this);var $dialog=$self.closest('.paragraphs-ee-add-dialog');var $dialog_wrapper=$dialog.find('[data-paragraphs-ee-dialog-wrapper]');var $dialog_buttons=$self.parent().find('.display-toggle');$dialog_buttons.removeAttr('aria-pressed');$self.attr('aria-pressed','true');if($self.hasClass('style-list')){$dialog_wrapper.addClass('paragraphs-style-list');$dialog_wrapper.closest('.paragraphs-ee-add-dialog').addClass('paragraphs-style-list');}else{$dialog_wrapper.removeClass('paragraphs-style-list');$dialog_wrapper.parent().removeClass('paragraphs-style-list');}});});};Drupal.behaviors.paragraphsEEToggleCategoryDisplay={attach:function(context){$(once('paragraphs-ee-category-toggle-handler','.paragraphs-ee-category-toggle',context)).on('click',function(){var $checkbox=$(this);var $wrapper=$checkbox.parents('.paragraphs-ee-category-list-wrapper');if($checkbox.is(':checked')){$checkbox.parent().addClass('is-open');$('.paragraphs-ee-category-list',$wrapper).attr('aria-expanded','true');}else{$checkbox.parent().removeClass('is-open');$('.paragraphs-ee-category-list',$wrapper).attr('aria-expanded','false');}});}};$(window).resize(function(){var $visibleDialogs=$('.ui-dialog.paragraphs-ee-add-dialog:visible');$visibleDialogs.each(function(){var $this=$(this);var dialog=$this.find('.ui-dialog-content').data('uiDialog');var dialogWidth='90%';var windowWidth=$(window).width();var dialogMaxWidth=1170;if(windowWidth>(dialogMaxWidth+50))dialogWidth=dialogMaxWidth+'px';$this.css('max-width',dialogWidth);dialog.option('position',dialog.options.position);});});}(jQuery,Drupal,drupalSettings,once));;
(function($,Drupal){Drupal.behaviors.pathDetailsSummaries={attach(context){$(context).find('.path-form').drupalSetSummary((context)=>{const pathElement=document.querySelector('.js-form-item-path-0-alias input');const path=pathElement&&pathElement.value;return path?Drupal.t('Alias: @alias',{'@alias':path}):Drupal.t('No alias');});}};})(jQuery,Drupal);;
(function($){'use strict';Drupal.behaviors.pathFieldsetSummaries={attach:function(context){$(context).find('.path-form').drupalSetSummary(function(context){var path=$('.js-form-item-path-0-alias input',context).val();var automatic=$('.js-form-item-path-0-pathauto input',context).prop('checked');if(automatic)return Drupal.t('Automatic alias');else if(path)return Drupal.t('Alias: @alias',{'@alias':path});else return Drupal.t('No alias');});}};})(jQuery);;
(function($,Drupal){Drupal.behaviors.rabbitHoleField={attach:function(context,settings){$(context).find('.rabbit-hole-settings-form').drupalSetSummary(function(context){var $action=$('[data-drupal-selector="edit-rabbit-hole-settings-0-action"] option:selected',context);return Drupal.checkPlain($action.text());});}};})(jQuery,Drupal);;
(function($){Drupal.behaviors.scheduler_settings={attach(context){$('details#edit-scheduler-settings',context).drupalSetSummary(function(context){const publishOn=document.querySelector('#edit-publish-on-0-value-date');const unpublishOn=document.querySelector('#edit-unpublish-on-0-value-date');const values=[];if(publishOn?.value)values.push(Drupal.t('Scheduled for publishing'));if(unpublishOn?.value)values.push(Drupal.t('Scheduled for unpublishing'));if(!values.length)values.push(Drupal.t('Not scheduled'));return values.join('<br/>');});$('#edit-scheduler',context).drupalSetSummary(function(context){const publishingEnabled=document.querySelector('#edit-scheduler-publish-enable');const unpublishingEnabled=document.querySelector('#edit-scheduler-unpublish-enable');const values=[];if(publishingEnabled.matches(':checked'))values.push(Drupal.t('Publishing enabled'));if(unpublishingEnabled.matches(':checked'))values.push(Drupal.t('Unpublishing enabled'));return values.join('<br/>');});}};})(jQuery);;
(function($,Drupal,once){function init(tab){const $tab=$(tab);const $target=$tab.find('[data-drupal-nav-tabs-target]');const isCollapsible=$tab.hasClass('is-collapsible');function openMenu(e){$target.toggleClass('is-open');}function handleResize(e){$tab.addClass('is-horizontal');const $tabs=$tab.find('.tabs');const isHorizontal=Math.floor($tabs.outerHeight())<=Math.floor(1.5*$tabs.find('.tabs__tab').outerHeight())||Math.floor($tabs.outerWidth())<=1100;$tab.toggleClass('is-horizontal',isHorizontal);if(isCollapsible)$tab.toggleClass('is-collapse-enabled',!isHorizontal);if(isHorizontal)$target.removeClass('is-open');}$tab.addClass('position-container is-horizontal-enabled');$tab.on('click.tabs','[data-drupal-nav-tabs-trigger]',openMenu);$(window).on('resize.tabs',Drupal.debounce(handleResize,150)).trigger('resize.tabs');}Drupal.behaviors.navTabs={attach(context,settings){const notSmartPhone=window.matchMedia('(min-width: 300px)');if(notSmartPhone.matches)once('nav-tabs','[data-drupal-nav-tabs]',context).forEach(init);}};})(jQuery,Drupal,once);;
/* @license MIT https://github.com/ludo/jquery-treetable/blob/3.2.0/MIT-LICENSE.txt */
(function($){var Node,Tree,methods;Node=(function(){function Node(row,tree,settings){var parentId;this.row=row;this.tree=tree;this.settings=settings;this.id=this.row.data(this.settings.nodeIdAttr);parentId=this.row.data(this.settings.parentIdAttr);if(parentId!=null&&parentId!=="")this.parentId=parentId;this.treeCell=$(this.row.children(this.settings.columnElType)[this.settings.column]);this.expander=$(this.settings.expanderTemplate);this.indenter=$(this.settings.indenterTemplate);this.children=[];this.initialized=false;this.treeCell.prepend(this.indenter);}Node.prototype.addChild=function(child){return this.children.push(child);};Node.prototype.ancestors=function(){var ancestors,node;node=this;ancestors=[];while(node=node.parentNode())ancestors.push(node);return ancestors;};Node.prototype.collapse=function(){if(this.collapsed())return this;this.row.removeClass("expanded").addClass("collapsed");this._hideChildren();this.expander.attr("title",this.settings.stringExpand);if(this.initialized&&this.settings.onNodeCollapse!=null)this.settings.onNodeCollapse.apply(this);return this;};Node.prototype.collapsed=function(){return this.row.hasClass("collapsed");};Node.prototype.expand=function(){if(this.expanded())return this;this.row.removeClass("collapsed").addClass("expanded");if(this.initialized&&this.settings.onNodeExpand!=null)this.settings.onNodeExpand.apply(this);if($(this.row).is(":visible"))this._showChildren();this.expander.attr("title",this.settings.stringCollapse);return this;};Node.prototype.expanded=function(){return this.row.hasClass("expanded");};Node.prototype.hide=function(){this._hideChildren();this.row.hide();return this;};Node.prototype.isBranchNode=function(){if(this.children.length>0||this.row.data(this.settings.branchAttr)===true)return true;else return false;};Node.prototype.updateBranchLeafClass=function(){this.row.removeClass('branch');this.row.removeClass('leaf');this.row.addClass(this.isBranchNode()?'branch':'leaf');};Node.prototype.level=function(){return this.ancestors().length;};Node.prototype.parentNode=function(){if(this.parentId!=null)return this.tree[this.parentId];else return null;};Node.prototype.removeChild=function(child){var i=$.inArray(child,this.children);return this.children.splice(i,1);};Node.prototype.render=function(){var handler,settings=this.settings,target;if(settings.expandable===true&&this.isBranchNode()){handler=function(e){$(this).parents("table").treetable("node",$(this).parents("tr").data(settings.nodeIdAttr)).toggle();return e.preventDefault();};this.indenter.html(this.expander);target=settings.clickableNodeNames===true?this.treeCell:this.expander;target.off("click.treetable").on("click.treetable",handler);target.off("keydown.treetable").on("keydown.treetable",function(e){if(e.keyCode==13)handler.apply(this,[e]);});}this.indenter[0].style.paddingLeft=""+(this.level()*settings.indent)+"px";return this;};Node.prototype.reveal=function(){if(this.parentId!=null)this.parentNode().reveal();return this.expand();};Node.prototype.setParent=function(node){if(this.parentId!=null)this.tree[this.parentId].removeChild(this);this.parentId=node.id;this.row.data(this.settings.parentIdAttr,node.id);return node.addChild(this);};Node.prototype.show=function(){if(!this.initialized)this._initialize();this.row.show();if(this.expanded())this._showChildren();return this;};Node.prototype.toggle=function(){if(this.expanded())this.collapse();else this.expand();return this;};Node.prototype._hideChildren=function(){var child,_i,_len,_ref,_results;_ref=this.children;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];_results.push(child.hide());}return _results;};Node.prototype._initialize=function(){var settings=this.settings;this.render();if(settings.expandable===true&&settings.initialState==="collapsed")this.collapse();else this.expand();if(settings.onNodeInitialized!=null)settings.onNodeInitialized.apply(this);return this.initialized=true;};Node.prototype._showChildren=function(){var child,_i,_len,_ref,_results;_ref=this.children;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];_results.push(child.show());}return _results;};return Node;})();Tree=(function(){function Tree(table,settings){this.table=table;this.settings=settings;this.tree={};this.nodes=[];this.roots=[];}Tree.prototype.collapseAll=function(){var node,_i,_len,_ref,_results;_ref=this.nodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];_results.push(node.collapse());}return _results;};Tree.prototype.expandAll=function(){var node,_i,_len,_ref,_results;_ref=this.nodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];_results.push(node.expand());}return _results;};Tree.prototype.findLastNode=function(node){if(node.children.length>0)return this.findLastNode(node.children[node.children.length-1]);else return node;};Tree.prototype.loadRows=function(rows){var node,row,i;if(rows!=null)for(i=0;i<rows.length;i++){row=$(rows[i]);if(row.data(this.settings.nodeIdAttr)!=null){node=new Node(row,this.tree,this.settings);this.nodes.push(node);this.tree[node.id]=node;if(node.parentId!=null&&this.tree[node.parentId])this.tree[node.parentId].addChild(node);else this.roots.push(node);}}for(i=0;i<this.nodes.length;i++)node=this.nodes[i].updateBranchLeafClass();return this;};Tree.prototype.move=function(node,destination){var nodeParent=node.parentNode();if(node!==destination&&destination.id!==node.parentId&&$.inArray(node,destination.ancestors())===-1){node.setParent(destination);this._moveRows(node,destination);if(node.parentNode().children.length===1)node.parentNode().render();}if(nodeParent)nodeParent.updateBranchLeafClass();if(node.parentNode())node.parentNode().updateBranchLeafClass();node.updateBranchLeafClass();return this;};Tree.prototype.removeNode=function(node){this.unloadBranch(node);node.row.remove();if(node.parentId!=null)node.parentNode().removeChild(node);delete this.tree[node.id];this.nodes.splice($.inArray(node,this.nodes),1);return this;};Tree.prototype.render=function(){var root,_i,_len,_ref;_ref=this.roots;for(_i=0,_len=_ref.length;_i<_len;_i++){root=_ref[_i];root.show();}return this;};Tree.prototype.sortBranch=function(node,sortFun){node.children.sort(sortFun);this._sortChildRows(node);return this;};Tree.prototype.unloadBranch=function(node){var children=node.children.slice(0),i;for(i=0;i<children.length;i++)this.removeNode(children[i]);node.children=[];node.updateBranchLeafClass();return this;};Tree.prototype._moveRows=function(node,destination){var children=node.children,i;node.row.insertAfter(destination.row);node.render();for(i=children.length-1;i>=0;i--)this._moveRows(children[i],node);};Tree.prototype._sortChildRows=function(parentNode){return this._moveRows(parentNode,parentNode);};return Tree;})();methods={init:function(options,force){var settings;settings=$.extend({branchAttr:"ttBranch",clickableNodeNames:false,column:0,columnElType:"td",expandable:false,expanderTemplate:"<a href='#'>&nbsp;</a>",indent:19,indenterTemplate:"<span class='indenter'></span>",initialState:"collapsed",nodeIdAttr:"ttId",parentIdAttr:"ttParentId",stringExpand:"Expand",stringCollapse:"Collapse",onInitialized:null,onNodeCollapse:null,onNodeExpand:null,onNodeInitialized:null},options);return this.each(function(){var el=$(this),tree;if(force||el.data("treetable")===undefined){tree=new Tree(this,settings);tree.loadRows(this.rows).render();el.addClass("treetable").data("treetable",tree);if(settings.onInitialized!=null)settings.onInitialized.apply(tree);}return el;});},destroy:function(){return this.each(function(){return $(this).removeData("treetable").removeClass("treetable");});},collapseAll:function(){this.data("treetable").collapseAll();return this;},collapseNode:function(id){var node=this.data("treetable").tree[id];if(node)node.collapse();else throw new Error("Unknown node '"+id+"'");return this;},expandAll:function(){this.data("treetable").expandAll();return this;},expandNode:function(id){var node=this.data("treetable").tree[id];if(node){if(!node.initialized)node._initialize();node.expand();}else throw new Error("Unknown node '"+id+"'");return this;},loadBranch:function(node,rows){var settings=this.data("treetable").settings,tree=this.data("treetable").tree;rows=$(rows);if(node==null)this.append(rows);else{var lastNode=this.data("treetable").findLastNode(node);rows.insertAfter(lastNode.row);}this.data("treetable").loadRows(rows);rows.filter("tr").each(function(){tree[$(this).data(settings.nodeIdAttr)].show();});if(node!=null)node.render().expand();return this;},move:function(nodeId,destinationId){var destination,node;node=this.data("treetable").tree[nodeId];destination=this.data("treetable").tree[destinationId];this.data("treetable").move(node,destination);return this;},node:function(id){return this.data("treetable").tree[id];},removeNode:function(id){var node=this.data("treetable").tree[id];if(node)this.data("treetable").removeNode(node);else throw new Error("Unknown node '"+id+"'");return this;},reveal:function(id){var node=this.data("treetable").tree[id];if(node)node.reveal();else throw new Error("Unknown node '"+id+"'");return this;},sortBranch:function(node,columnOrFunction){var settings=this.data("treetable").settings,prepValue,sortFun;columnOrFunction=columnOrFunction||settings.column;sortFun=columnOrFunction;if($.isNumeric(columnOrFunction))sortFun=function(a,b){var extractValue,valA,valB;extractValue=function(node){var val=node.row.find("td:eq("+columnOrFunction+")").text();return $.trim(val).toUpperCase();};valA=extractValue(a);valB=extractValue(b);if(valA<valB)return -1;if(valA>valB)return 1;return 0;};this.data("treetable").sortBranch(node,sortFun);return this;},unloadBranch:function(node){this.data("treetable").unloadBranch(node);return this;}};$.fn.treetable=function(method){if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method==='object'||!method)return methods.init.apply(this,arguments);else return $.error("Method "+method+" does not exist on jQuery.treetable");};window.TreeTable||(window.TreeTable={});window.TreeTable.Node=Node;window.TreeTable.Tree=Tree;})(jQuery);;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings){'use strict';Drupal.behaviors.tokenTree={attach:function(context,settings){$(once('token-tree','table.token-tree',context)).treetable({expandable:true});}};Drupal.behaviors.tokenInsert={attach:function(context,settings){$('textarea, input[type="text"]',context).focus(function(){drupalSettings.tokenFocusedField=this;});if(Drupal.CKEditor5Instances)Drupal.CKEditor5Instances.forEach(function(editor){editor.editing.view.document.on('change:isFocused',(event,data,isFocused)=>{if(isFocused)drupalSettings.tokenFocusedCkeditor5=editor;});});once('token-click-insert','.token-click-insert .token-key',context).forEach(function(token){var newThis=$('<a href="javascript:void(0);" title="'+Drupal.t('Insert this token into your form')+'">'+$(token).html()+'</a>').click(function(){var content=this.text;if(drupalSettings.tokenFocusedField&&(drupalSettings.tokenFocusedField.tokenDialogFocus||drupalSettings.tokenFocusedField.tokenHasFocus))insertAtCursor(drupalSettings.tokenFocusedField,content);else if(typeof (tinyMCE)!='undefined'&&tinyMCE.activeEditor)tinyMCE.activeEditor.execCommand('mceInsertContent',false,content);else if(typeof (CKEDITOR)!='undefined'&&CKEDITOR.currentInstance)CKEDITOR.currentInstance.insertHtml(content);else if(typeof (CodeMirror)!='undefined'&&drupalSettings.tokenFocusedField&&$(drupalSettings.tokenFocusedField).parents('.CodeMirror').length){var editor=$(drupalSettings.tokenFocusedField).parents('.CodeMirror')[0].CodeMirror;editor.replaceSelection(content);editor.focus();}else if(Drupal.wysiwyg&&Drupal.wysiwyg.activeId)Drupal.wysiwyg.instances[Drupal.wysiwyg.activeId].insert(content);else if(typeof (CKEDITOR)!='undefined'&&typeof (Drupal.ckeditorActiveId)!='undefined')CKEDITOR.instances[Drupal.ckeditorActiveId].insertHtml(content);else if(drupalSettings.tokenFocusedField)insertAtCursor(drupalSettings.tokenFocusedField,content);else if(drupalSettings.tokenFocusedCkeditor5){const editor=drupalSettings.tokenFocusedCkeditor5;editor.model.change((writer)=>{writer.insertText(content,editor.model.document.selection.getFirstPosition());});}else alert(Drupal.t('First click a text field to insert your tokens into.'));return false;});$(token).html(newThis);});function insertAtCursor(editor,content){var scroll=editor.scrollTop;if(document.selection){editor.focus();var sel=document.selection.createRange();sel.text=content;}else if(editor.selectionStart||editor.selectionStart=='0'){var startPos=editor.selectionStart;var endPos=editor.selectionEnd;editor.value=editor.value.substring(0,startPos)+content+editor.value.substring(endPos,editor.value.length);}else editor.value+=content;editor.scrollTop=scroll;}}};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal,drupalSettings){const pathInfo=drupalSettings.path;const escapeAdminPath=sessionStorage.getItem('escapeAdminPath');const windowLocation=window.location;if(!pathInfo.currentPathIsAdmin&&!/destination=/.test(windowLocation.search))sessionStorage.setItem('escapeAdminPath',windowLocation);Drupal.behaviors.escapeAdmin={attach(){const toolbarEscape=once('escapeAdmin','[data-toolbar-escape-admin]');if(toolbarEscape.length&&pathInfo.currentPathIsAdmin&&escapeAdminPath!==null)$(toolbarEscape).attr('href',escapeAdminPath);}};})(jQuery,Drupal,drupalSettings);;
(function(Drupal,drupalSettings){'use strict';Drupal.behaviors.yamlEditor={attach:function(context){var initEditor=function(){once('yaml-editor','textarea[data-yaml-editor]',context).forEach(function($textarea){var $editDiv=document.createElement('div');if(!$textarea.parentNode)return;$textarea.classList.add('visually-hidden');$textarea.parentNode.insertBefore($editDiv,$textarea);var editor=ace.edit($editDiv);editor.getSession().setValue($textarea.value);editor.getSession().setMode('ace/mode/yaml');editor.getSession().setTabSize(2);editor.setTheme(drupalSettings.yamlEditor.theme);editor.setOptions({minLines:3,maxLines:20});editor.getSession().on('change',function(){$textarea.value=editor.getSession().getValue();});});};if(typeof ace!=='undefined')initEditor();else getScript(drupalSettings.yamlEditor.source,initEditor);}};function getScript(source,callback){var script=document.createElement('script');script.src=source;script.async=true;script.onload=callback;document.body.appendChild(script);}})(Drupal,drupalSettings);;
